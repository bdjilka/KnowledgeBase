<template>
    <v-row align="center" justify="center">
        <v-col cols="12" lg="3" md="4" sm="8">
            <v-card class="elevation-1 mb-3">
                <v-toolbar color="primary" dark flat>
                    <v-toolbar-title>Login form</v-toolbar-title>
                </v-toolbar>
                <v-card-text class="pa-4">
                    <v-form v-model="valid">
                        <v-text-field :rules="[field_required]"
                                      label="Login"
                                      prepend-inner-icon="mdi-account"
                                      required
                                      type="text"
                                      v-model="username">
                        </v-text-field>
                        <v-text-field :required="mode === 'reg'"
                                      :rules="email_rule"
                                      label="Email"
                                      prepend-inner-icon="mdi-at"
                                      type="text"
                                      v-if="mode === 'reg'"
                                      v-model="email">
                        </v-text-field>
                        <v-text-field :rules="mode === 'log' ? [field_required]: [field_required, password_rule]"
                                      label="Password"
                                      prepend-inner-icon="mdi-lock"
                                      required
                                      type="password"
                                      v-model="password">
                        </v-text-field>
                        <v-text-field :required="mode === 'reg'"
                                      :rules="[field_required, dupe_rule]"
                                      label="Password again"
                                      prepend-inner-icon="mdi-lock"
                                      type="password"
                                      v-if="mode === 'reg'"
                                      v-model="password_dupe">
                        </v-text-field>
                    </v-form>
                </v-card-text>
                <v-card-actions class="pa-4">
                    <v-spacer></v-spacer>
                    <v-btn :disabled="!valid" color="primary" @click="enter">{{mode === 'log' ? 'Login': 'Sign up'}}</v-btn>
                </v-card-actions>
            </v-card>
            <div v-if="mode === 'log'">
                <span class="text-uppercase" style="font-size: 12px">Don't have an account?</span>
                <v-btn @click="mode = 'reg'" color="primary" text>Sign up</v-btn>
            </div>
            <div v-if="mode === 'reg'">
                <v-btn @click="mode = 'log'" color="primary" text>Sign in</v-btn>
            </div>
        </v-col>
    </v-row>
</template>

<script lang="js" src="./script.js">
</script>
