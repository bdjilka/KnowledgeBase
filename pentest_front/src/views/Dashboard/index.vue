<template>
    <v-card class="ma-4">
        <v-card-title class="title">
            Commands
            <v-spacer></v-spacer>
            <v-text-field
                    v-model="search"
                    prepend-inner-icon="mdi-magnify"
                    label="Search"
                    single-line
                    hide-details>
            </v-text-field>
        </v-card-title>
        <v-data-table :headers="headers"
                      :items="items"
                      :options.sync="localPagination"
                      :search="search"
                      :server-items-length="localPagination.totalItems"
                      :sort-by.sync="localPagination.sortBy"
                      :sort-desc.sync="localPagination.sortDesc"
                      class="elevation-1">
            <template v-slot:body="{ items }">
                <tbody>
                    <tr :key="item.id"
                        @click="$router.push(`/dashboard/${item.id}`)"
                        style="cursor: pointer"
                        v-for="item in items">
                        <td class="text-left">{{ item.command }}</td>
                        <td class="text-left">{{ item.description }}</td>
                        <td class="text-left">
                            <template v-if="item.tags.length > 0">
                                <v-chip :key="tag.id" v-for="tag in item.tags">{{tag.title}}</v-chip>
                            </template>
                            <template v-else> -no tags-</template>
                        </td>
                    </tr>
                </tbody>
            </template>
        </v-data-table>
    </v-card>
</template>

<script lang="js" src="./script.js">
</script>

<style scoped>
</style>