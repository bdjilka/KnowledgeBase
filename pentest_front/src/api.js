import axios from './axios';
import {makeFilterQuery, makePaginationQuery, makeSortQuery} from "./utils";


export function getTableData(endpoint, pagination, filters) {
    /**
     * Allows to get items for table with needed ordering and filtration.
     * @param {string} endpoint         some api endpoint
     * @param {Object} pagination
     * @param {Array} filters
     */
    const pagination_query = makePaginationQuery(pagination);
    const sort = makeSortQuery(endpoint, pagination);
    const filter = makeFilterQuery(filters);
    const url = `/${filter ? 'search': endpoint}/?${pagination_query}${sort}${filter}`;
    return axios.get(url);
}

export function getCommand(id) {
    return axios.get(`/commands/${id}`);
}